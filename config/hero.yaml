# 检测器
detector:
  armor_model_path: ../model/opt-0527-001.onnx
  detect_color: BLUE
  camera:
    index: 0
    exposure_time: 12000
    gain: 16
# 解算器
solver:
  env:
    g: 9.781
  camera_params:
    intrinsic_matrix: [
2665.005527408399, 0,                 696.8233, # fx 0  cx
                       0,                 2673.364537791387, 500.5147099572225, # 0  fy cy
                       0,                 0,                 1
    ]
    # k1 k2 p1 p2 k3 -> OpenCV形式
    distortion: [-0.4201, 0.2024, -0.0005160242774163281, 0.003750181726942, 0]
  coordinate:
#    T_ci: [  -0.88941957, -0.44031882,  0.12268725, -0.01160636,
#       0.0234086  , 0.2241786   ,0.9742669 , -0.01468959,
#       -0.45649191,  0.86940399 ,-0.18908158 , 0.00595347,
#       0.       ,   0.     ,     0.  ,        1. ]
#
#    T_ic: [  -0.88941957 , 0.0234086 , -0.45649191, -0.00726135,
#       -0.44031882 , 0.2241786,   0.86940399, -0.00699338 ,
#       0.12268725  ,0.9742669 , -0.18908158 , 0.01686123 ,
#       0.         , 0.     ,     0.     ,     1. ]
    T_ci: [ -0.06469172, -0.99026681 ,-0.12323407,  0.00171604,
      0.02340444, -0.12496442 , 0.99188514, -0.00176159,
       -0.9976308,   0.06128253,  0.03126081, -0.00414964,
       0.      ,    0.     ,     0.,          1. ]

    T_ic: [ -0.06469172,  0.02340444 ,-0.9976308,  -0.00398757,
       -0.99026681 ,-0.12496442 , 0.06128253  ,0.0017335 ,
       -0.12323407,  0.99188514  ,0.03126081  ,0.00208849 ,
       0.        ,  0.       ,   0.     ,     1. ]
#    T_ci: [0.04653062, -0.99864509,  0.02329999,  0.05218808,
#           -0.11507015,  0.01781135,  0.99319767,  0.13153383,
#           -0.99226698, -0.04889524, -0.11408546, -0.01373861,
#           0.        ,  0.        ,  0.        ,  1. ]
#    T_ic: [0.04653062, -0.11507015, -0.99226698, -0.00092509,
#           -0.99864509,  0.01781135, -0.04889524,  0.04910282,
#           0.02329999,  0.99319767, -0.11408546, -0.13342245,
#           0.        ,  0.        ,  0.        ,  1.        ]
    tvec_i2w: [0.0, 0.0, 0.0]
    tvec_w2i: [0.0, 0.0, 0.0]
  ballistic:
    speed: 20.0
tracker: null
# 预测器
predict:
  delta_time: 20
  kf:
#    q:  [ 200, 0.01, 200, 0.0060, 20, 0.001, 1, 1, 1 ]  # xa vxa ya vya za vza yaw vyaw r
#    r: [ 100000, 100000, 10000, 2000 ]  # x y z yaw
    q: [200, 0.001, 200, 0.0065, 20, 0.001, 1, 1, 1]  # xa vxa ya vya za vza yaw vyaw r
    r: [4000, 2000, 4000, 2000]  # x y z yaw

#    q: [ 20, 0.001, 20, 0.001, 0.001, 0.001, 1, 1, 1 ]  # xa vxa ya vya za vza yaw vyaw r
#    r: [ 6000, 25000, 12000, 2000 ]  # x y z yaw
# 补偿
compensate:
  yaw:   -0  # 单位: °; 左 <---- -0+ ---> 右
  pitch: -0  # 单位: °; 上 <---- -0+ ---> 下
microcontroller_id: 1