# 检测器
detector:
  armor_model_path: ../model/opt-0527-001.onnx
  detect_color: BLUE
  camera:
    index: 0
    exposure_time: 12000
    gain: 15
# 解算器
solver:
  env:
    g: 9.781
  camera_params:
    intrinsic_matrix: [2665.005527408399, 0,                 696.8233, # fx 0  cx
                       0,                 2673.364537791387, 500.5147099572225, # 0  fy cy
                       0,                 0,                 1]
    # k1 k2 p1 p2 k3 -> OpenCV形式
    distortion: [-0.303608974614145, 4.163247825941419, -0.008432853056627, -0.003830248744148, 0]
  coordinate:
    T_ci: [0.13688398 , -0.98279806, -0.12397883, -0.00864006,
           0.00953708 , -0.1238436 ,  0.99225592,  0.01859186,
           -0.99054118, -0.13700634, -0.00757918, -0.06181925,
           0.         ,  0.        ,  0.        ,  1.        ]

    T_ic: [ 0.13688398,  0.00953708, -0.99054118, -0.06022914,
      -0.98279806, -0.1238436,  -0.13700634, -0.01465858,
    -0.12397883,  0.99225592, -0.00757918, -0.01998761,
    0.       ,   0.,          0.   ,       1.        ]
#    T_ci: [-0.01298927, -0.97079635, -0.23955318,  0.0001583,
#          -0.05568026 , -0.23849942,  0.96954512, -0.00130009,
#          -0.99836416 ,  0.02593207, -0.05095626, -0.00015382,
#           0.         ,  0.        ,  0.        ,  1. ]
#    T_ic: [-0.01298927, -0.05568026, -0.99836416, -0.0002239,
#       -0.97079635, -0.23849942,  0.02593207, -0.0001524,
#       -0.23955318,  0.96954512, -0.05095626 , 0.00129058,
#       0.      ,    0. ,         0.,          1.]
#    T_ci: [-0.42388551, -0.8851716 , -0.19181322, -0.00048746,
#           -0.0959615 , -0.16669638,  0.98132752,  0.00109646,
#           -0.90061783,  0.43437720, -0.01428221, -0.00043055,
#            0.        ,  0.        ,  0.        ,  1.        ]
#    T_ic: [ -0.42388551, -0.0959615 , -0.90061783, -0.00048917,
#            -0.8851716 , -0.16669638,  0.4343772  ,-0.00006169,
#            -0.19181322,  0.98132752, -0.01428221 ,-0.00117563,
#            0.         ,  0.        ,  0.         , 1.        ]
    tvec_i2w: [0.0, 0.0, 0.0]
    tvec_w2i: [0.0, 0.0, 0.0]
  ballistic:
    speed: 20.0
tracker: null
# 预测器
predict:
  delta_time: 100
  kf:
#    q: [300, 1, 20, 1, 500, 100, 1, 1, 1]  # xa vxa ya vya za vza yaw vyaw r
#    r: [200, 200, 10000, 100000]  # x y z yaw
    q: [1, 0.5, 200, 0.5, 0.1, 0.05, 1, 1, 1]  # xa vxa ya vya za vza yaw vyaw r
#    r: [1, 1, 100, 100000]  # x y z yaw
    r: [8000, 25000, 8000, 2000]  # x y z yaw
# 补偿
compensate:
  yaw:   +1.5  # 单位: °; 左 <---- -0+ ---> 右
  pitch: -10  # 单位: °; 上 <---- -0+ ---> 下
microcontroller_id: 1
