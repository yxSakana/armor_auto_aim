# 检测器
detector:
  armor_model_path: ../model/opt-0527-001.onnx
  detect_color: BLUE
  camera:
    index: 0
    exposure_time: 4000
    gain: 15
# 解算器
solver:
  env:
    g: 9.781
  camera_params:
    intrinsic_matrix: [2665.005527408399, 0,                 696.8233, # fx 0  cx
                       0,                 2673.364537791387, 500.5147099572225, # 0  fy cy
                       0,                 0,                 1]
    # k1 k2 p1 p2 k3 -> OpenCV形式
    distortion: [-0.303608974614145, 4.163247825941419, -0.008432853056627, -0.003830248744148, 0]
  coordinate:
    T_ci: [  0.04754668, -0.99318318, -0.10642592 , 0.00048867,
       0.04022115, -0.10455636,  0.9937053,  -0.0005225,
       -0.9980589 , -0.05152796  ,0.03497567, -0.00351113,
       0.     ,     0.     ,     0.         , 1.  ]

    T_ic: [  0.04754668,  0.04022115, -0.9980589,  -0.00350654,
       -0.99318318, -0.10455636, -0.05152796,  0.00024979,
       -0.10642592,  0.9937053 ,  0.03497567,  0.00069403,
       0.       ,   0.        ,  0.          ,1. ]
#    T_ci: [ 0.01771092, -0.99241707, -0.12163338,  0.00224137,
#      0.05876448 ,-0.12040896 , 0.99098356 , 0.00048659,
#      -0.99811475, -0.02469896,  0.05618632, -0.01706854,
#      0.    ,      0.     ,     0.    ,      1. ]
#    T_ic: [ 0.01771092,  0.05876448, -0.99811475, -0.01710465,
#      -0.99241707, -0.12040896, -0.02469896,  0.00186139,
#      -0.12163338,  0.99098356,  0.05618632,  0.00074944,
#      0.        ,  0.,          0. ,         1. ]
    tvec_i2w: [0.0, 0.0, 0.0]
    tvec_w2i: [0.0, 0.0, 0.0]
  ballistic:
    speed: 20.0
tracker: null
# 预测器
predict:
  delta_time: 100
  kf:
    q: [200, 0.001, 300, 0.002, 20, 0.001, 1, 0.01, 0.1]  # xa vxa ya vya za vza yaw vyaw r
    r: [4000, 7000, 4000, 2000]  # x y z yaw
#    q: [300, 1, 20, 1, 500, 100, 1, 1, 1]  # xa vxa ya vya za vza yaw vyaw r
#    r: [200, 200, 10000, 100000]  # x y z yaw
#    q: [20, 0.0001, 20, 0.001, 0.001, 0.001, 1, 1, 1]  # xa vxa ya vya za vza yaw vyaw r
#    r: [1, 1, 100, 100000]  # x y z yaw
#    r: [6000, 25000, 12000, 2000]  # x y z yaw
# 补偿
compensate:
  yaw:   +1.5  # 单位: °; 左 <---- -0+ ---> 右
  pitch: -10  # 单位: °; 上 <---- -0+ ---> 下
microcontroller_id: 1
