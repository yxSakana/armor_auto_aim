# 检测器
detector:
  armor_model_path: ../model/opt-0527-001.onnx
  detect_color: BLUE
  camera:
    index: 0
    exposure_time: 4000
    gain: 16
# 解算器
solver:
  env:
    g: 9.781
  camera_params:
    intrinsic_matrix: [2665.005527408399, 0                , 696.8233         , # fx 0  cx
                       0                , 2673.364537791387, 500.5147099572225, # 0  fy cy
                       0                , 0                , 1                ]
    # k1 k2 p1 p2 k3 -> OpenCV形式
    distortion: [-0.303608974614145, 4.163247825941419, -0.008432853056627, -0.003830248744148, 0]
  coordinate:
    T_ci: [-0.05321604, -0.99654143,  0.0638218,  -0.00122629,
       0.04591086 ,-0.06628644, -0.99674385 , 0.00486325,
       0.99752707, -0.05011265,  0.04927958 ,-0.00411117,
       0.       ,   0.      ,    0.  ,        1.]

    T_ic: [ -0.05321604,  0.04591086,  0.99752707 , 0.00381247,
      -0.99654143, -0.06628644, -0.05011265, -0.00110571,
      0.0638218,  -0.99674385 , 0.04927958,  0.00512828,
      0.     ,     0.   ,       0.  ,        1.]
#    T_ci: [-0.00103719, -0.99830381, -0.05821014, -0.0037376,
#            0.04967125,  0.05808689, -0.99707506, -0.0010612,
#            0.99876508, -0.00392552,  0.04952675, -0.07912495,
#            0.        ,  0.        ,  0.        ,  1. ]
#    T_ic: [-0.00103719,  0.04967125,  0.99876508,  0.07907608,
#           -0.99830381,  0.05808689, -0.00392552, -0.00398022,
#           -0.05821014, -0.99707506,  0.04952675,  0.00264314,
#            0.         , 0.        ,  0.        ,  1. ]
    tvec_i2w: [0.0, 0.0, 0.0]
    tvec_w2i: [0.0, 0.0, 0.0]
  ballistic:
    speed: 20.0
# 预测器
predict:
  delta_time: 20
  kf:
    q: [200, 0.001, 200, 0.0065, 20, 0.001, 1, 1, 1]  # xa vxa ya vya za vza yaw vyaw r
    r: [4000, 2000, 4000, 2000]  # x y z yaw
#    q: [ 200, 0.01, 20, 0.1, 20, 0.001, 1, 1, 1 ]  # xa vxa ya vya za vza yaw vyaw r
#    r: [ 6000, 25000, 12000, 2000 ]  # x y z yaw
# 补偿
compensate:
  yaw:   -0  # 单位: °; 左 <---- -0+ ---> 右
  pitch: -0  # 单位: °; 上 <---- -0+ ---> 下
microcontroller_id: 1
